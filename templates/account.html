<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aspect Bots</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='icons/favicon.png') }}">
</head>
<footer class="site-footer">
  <div class="footer-left">
    <a href="https://store.legitimoose.com" target="_blank" rel="noopener noreferrer">
        <img src="{{ url_for('static', filename='icons/cart.svg') }}" alt="Store" width="64" height="64">
    </a>
  </div>

  <div class="footer-center">
    <p>
      This is not an official Moose project and is made by the community.<br>
      We have no affiliation with any real-world brands.<br>
      Not affiliated with Mojang AB or Partners.
    </p>
  </div>

  <div class="footer-right">
    <a href="https://www.youtube.com/@Legitimoose" target="_blank" rel="noopener noreferrer">
        <img src="{{ url_for('static', filename='icons/youtube.svg') }}" alt="YouTube" width="64" height="64">
    </a>
  </div>
</footer>

<body>
    <nav class="navbar">
        <div class="logo">
            <a href="https://aspectofthe.site/" class="logo">
                <img src="{{ url_for('static', filename='icons/favicon.png') }}" alt="Logo" class="logo-img">
            </a>
            Aspect Bots
        </div>
        <div class="nav-links">
            <a href="/bots">Home</a>
            <a href="/bots/status">Bot status</a>
            <a href="/bots/deploy">Deploy bot</a>
        </div>
        <div class="login">
            {% if username %}
                <span>{{ username }}</span>
            {% else %}
                <a href="/">Not logged in??</a>
            {% endif %}
        </div>
    </nav>

  <div class="layout">
    <aside class="sidebar">
      <div class="sidebar-top">
        <button class="sidebar-btn active" data-tab="account-status">Account Status</button>
        <button class="sidebar-btn" data-tab="user-storage">User Storage</button>
      </div>
      <div class="sidebar-bottom">
        <button class="sidebar-btn logout-btn" id="logout-btn">Logout</button>
      </div>
    </aside>

    <main class="main-content">
      <div id="account-status" class="tab-content active">
        <p class="plaintext">
            Please contact me if you need more capabilities
        </p>
        <table class="account-table">
            <tbody>
                <tr title="How many times you can deploy a bot each day">
                    <td>Uses per day</td>
                    <td class="plaintext">{{ account.abilities.uses if account.abilities.uses is defined else 10 }}</td>
                </tr>
                <tr title="How many bots you can have at the same time">
                    <td>Simultaneous Bots</td>
                    <td class="plaintext">{{ account.abilities.simultaneous if account.abilities.simultaneous is defined else 1 }}</td>
                </tr>
                <tr title="How long until your bot will go offline after deploying">
                    <td>Bot uptime limit</td>
                    <td class="plaintext">{{ account.abilities.uptime if account.abilities.uptime is defined else 30 }} mins</td>
                </tr>
                <tr title="Whether your bot will go offline 2 minutes after being alone or not">
                    <td>No abandoned timeout</td>
                    <td class="status unavailable">{{ account.abilities.abandoned if account.abilities.abandoned is defined else ❌ }}</td>
                </tr>
                <tr title="Whether you can deploy a bot on a world you dont own">
                    <td>Deploy on unowned servers</td>
                    <td class="status available">{{ account.abilities.unowned if account.abilities.unowned is defined else ✔️ }}</td>
                </tr>
            </tbody>
        </table>
      </div>
      <div id="user-storage" class="tab-content">
        <h2>User Storage</h2>
        <p>Show storage info here...</p>
      </div>
    </main>
  </div>

  <script>
    const buttons = document.querySelectorAll('.sidebar-btn:not(.logout-btn)');
    const contents = document.querySelectorAll('.tab-content');

    // Side buttons
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active'));
        contents.forEach(c => c.classList.remove('active'));

        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });

    // Logout
    document.getElementById('logout-btn').addEventListener('click', () => {
      document.cookie = "mc_username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      document.cookie = "mc_access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      document.cookie = "mc_uuid=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      window.location.href = "/";
    });
  </script>
  
</body>
</html>
